<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1a1a2e">
    <title>CS:GO 10000000.16</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∏–≥—Ä—ã -->
    <div id="game-container"></div>

    <!-- UI: –ú–µ–Ω—é –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã -->
    <div id="start-screen">
        <div class="menu-box">
            <h1>CS:GO 10000000.16</h1>
            <p class="subtitle">Browser 3D FPS</p>
            <p id="device-indicator" style="font-size:13px; margin-bottom:10px; color:#888;"></p>
            
            <!-- –í—ã–±–æ—Ä –∫–æ–º–∞–Ω–¥—ã -->
            <div class="team-select">
                <p class="team-label">–í–´–ë–ï–†–ò –ö–û–ú–ê–ù–î–£:</p>
                <div class="team-buttons">
                    <button id="btn-ct" class="team-btn ct">CT</button>
                    <button id="btn-t" class="team-btn t">T</button>
                </div>
            </div>
            
            <button id="start-btn" disabled>–ò–ì–†–ê–¢–¨</button>
            <div class="controls-info" id="controls-info">
                <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JS –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ -->
            </div>
        </div>
    </div>

    <!-- UI: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ FPS -->
    <div id="fps-counter">FPS: 0</div>

    <!-- UI: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ -->
    <div id="players-count">–ò–≥—Ä–æ–∫–æ–≤: 0</div>
    
    <!-- UI: HP -->
    <div id="health-bar">
        <div id="health-fill"></div>
        <span id="health-text">100</span>
    </div>

    <!-- UI: –ü—Ä–∏—Ü–µ–ª -->
    <div id="crosshair">+</div>

    <!-- –°—Ç–∞—Ç—É—Å pointer lock (–æ—Ç–ª–∞–¥–∫–∞) -->
    <div id="lock-status">üîì –ö–ª–∏–∫–Ω–∏ –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –º—ã—à–∏</div>

    <!-- UI: –û—Ä—É–∂–∏–µ -->
    <div id="weapon-hud">
        <div class="weapon-slot" id="slot-1" title="1 - –ü–∏—Å—Ç–æ–ª–µ—Ç">
            <div class="weapon-icon">üî´</div>
            <div class="weapon-name">–ü–∏—Å—Ç–æ–ª–µ—Ç</div>
            <div class="weapon-key">1</div>
        </div>
        <div class="weapon-slot" id="slot-2" title="2 - –ù–æ–∂">
            <div class="weapon-icon">üî™</div>
            <div class="weapon-name">–ù–æ–∂</div>
            <div class="weapon-key">2</div>
        </div>
        <div class="weapon-slot" id="slot-3" title="3 - AK-47">
            <div class="weapon-icon">‚öîÔ∏è</div>
            <div class="weapon-name">AK-47</div>
            <div class="weapon-key">3</div>
        </div>
    </div>

    <!-- UI: –õ–∏–¥–µ—Ä–±–æ—Ä–¥ (Tab) -->
    <div id="leaderboard" class="hidden">
        <div class="leaderboard-inner">
            <h2>üèÜ –õ–ò–î–ï–†–ë–û–†–î</h2>
            <table>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>–ò–≥—Ä–æ–∫</th>
                        <th>–£–±–∏–π—Å—Ç–≤</th>
                        <th>–°–º–µ—Ä—Ç–µ–π</th>
                        <th>K/D</th>
                    </tr>
                </thead>
                <tbody id="leaderboard-body"></tbody>
            </table>
        </div>
    </div>

    <!-- UI: –õ–µ–Ω—Ç–∞ —É–±–∏–π—Å—Ç–≤ -->
    <div id="kill-feed"></div>

    <!-- –ú–û–ë–ò–õ–¨–ù–û–ï –£–ü–†–ê–í–õ–ï–ù–ò–ï -->
    <div id="mobile-controls">
        <!-- –õ–µ–≤—ã–π –¥–∂–æ–π—Å—Ç–∏–∫ ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ -->
        <div id="joystick-zone">
            <div id="joystick-base">
                <div id="joystick-stick"></div>
            </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –∑–æ–Ω–∞ ‚Äî –ø–æ–≤–æ—Ä–æ—Ç –∫–∞–º–µ—Ä—ã (—Å–≤–∞–π–ø) -->
        <div id="look-zone"></div>

        <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
        <div id="action-buttons">
            <button id="btn-shoot" class="action-btn shoot-btn">üî´</button>
            <button id="btn-jump"  class="action-btn jump-btn">‚¨Ü</button>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ —Å–º–µ–Ω—ã –æ—Ä—É–∂–∏—è -->
        <div id="weapon-switch-btns">
            <button class="weapon-switch-btn" data-weapon="pistol">üî´</button>
            <button class="weapon-switch-btn" data-weapon="knife">üî™</button>
            <button class="weapon-switch-btn" data-weapon="ak47">‚öîÔ∏è</button>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ -->
        <button id="btn-leaderboard" class="action-btn leaderboard-btn">üèÜ</button>
    </div>

    <!-- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –î–û main.js -->
    <script>
        (function() {
            var ua = navigator.userAgent || '';
            var isTouchDevice = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);
            var isMobileUA = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|Tablet/i.test(ua);
            var isSmallScreen = window.innerWidth <= 900 || window.innerHeight <= 600;
            var isCoarsePointer = window.matchMedia('(pointer: coarse)').matches;

            // –°—á–∏—Ç–∞–µ–º –º–æ–±–∏–ª—å–Ω—ã–º –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã 2 –∏–∑ 4 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Å–æ–≤–ø–∞–¥–∞—é—Ç
            var score = (isTouchDevice ? 1 : 0) + (isMobileUA ? 1 : 0) +
                        (isSmallScreen ? 1 : 0) + (isCoarsePointer ? 1 : 0);

            window.IS_MOBILE = score >= 2;

            document.body.classList.add(window.IS_MOBILE ? 'is-mobile' : 'is-pc');

            // –ü–æ–¥—Å–∫–∞–∑–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –º–µ–Ω—é
            var indicator = document.getElementById('device-indicator');
            if (indicator) {
                indicator.textContent = window.IS_MOBILE
                    ? 'üì± –û–±–Ω–∞—Ä—É–∂–µ–Ω —Ç–µ–ª–µ—Ñ–æ–Ω ‚Äî –º–æ–±–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ'
                    : 'üñ•Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω –ü–ö ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π –∏ –º—ã—à—å—é';
                indicator.style.color = window.IS_MOBILE ? '#4fc3f7' : '#81c784';
            }

            var info = document.getElementById('controls-info');
            if (info) {
                if (window.IS_MOBILE) {
                    info.innerHTML =
                        '<p><strong>üì± –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (—Ç–µ–ª–µ—Ñ–æ–Ω):</strong></p>' +
                        '<p>–õ–µ–≤—ã–π –¥–∂–æ–π—Å—Ç–∏–∫ ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ</p>' +
                        '<p>–°–≤–∞–π–ø –ø—Ä–∞–≤–æ–π –∑–æ–Ω–æ–π ‚Äî –∫–∞–º–µ—Ä–∞</p>' +
                        '<p>üî´ ‚Äî —Å—Ç—Ä–µ–ª—å–±–∞ &nbsp; ‚¨Ü ‚Äî –ø—Ä—ã–∂–æ–∫</p>' +
                        '<p>üî´üî™‚öîÔ∏è ‚Äî —Å–º–µ–Ω–∞ –æ—Ä—É–∂–∏—è</p>' +
                        '<p>üèÜ ‚Äî –ª–∏–¥–µ—Ä–±–æ—Ä–¥</p>';
                } else {
                    info.innerHTML =
                        '<p><strong>üñ•Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–ü–ö):</strong></p>' +
                        '<p>W A S D ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ</p>' +
                        '<p>–ü–†–û–ë–ï–õ ‚Äî –ø—Ä—ã–∂–æ–∫</p>' +
                        '<p>–ú–´–®–¨ ‚Äî –ø–æ–≤–æ—Ä–æ—Ç –∫–∞–º–µ—Ä—ã</p>' +
                        '<p>–õ–ö–ú ‚Äî —Å—Ç—Ä–µ–ª—å–±–∞ / —É–¥–∞—Ä</p>' +
                        '<p>1 ‚Äî –ü–∏—Å—Ç–æ–ª–µ—Ç &nbsp; 2 ‚Äî –ù–æ–∂ &nbsp; 3 ‚Äî AK-47</p>' +
                        '<p>TAB ‚Äî –ª–∏–¥–µ—Ä–±–æ—Ä–¥</p>';
                }
            }
        })();
    </script>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ -->
    <!-- Three.js - 3D –≥—Ä–∞—Ñ–∏–∫–∞ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- GLTFLoader –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ .glb –º–æ–¥–µ–ª–µ–π -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <!-- FBXLoader –¥–ª—è –º–æ–¥–µ–ª–∏ –∏–≥—Ä–æ–∫–∞ -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/FBXLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/libs/fflate.min.js"></script>
    <!-- Socket.io - –¥–ª—è –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞ -->
    <script src="/socket.io/socket.io.js"></script>
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∏–≥—Ä—ã -->
    <script src="main.js"></script>
</body>
</html>
